<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLuMapper" >
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache" />
  <resultMap id="BaseResultMap" type="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLu" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    <id column="reco_no" property="recoNo" jdbcType="NUMERIC" />
    <result column="cangk_dm" property="cangkDm" jdbcType="VARCHAR" />
    <result column="danw_dm" property="danwDm" jdbcType="VARCHAR" />
    <result column="peij_no" property="peijNo" jdbcType="VARCHAR" />
    <result column="peij_kc" property="peijKc" jdbcType="NUMERIC" />
    <result column="jiag_jp" property="jiagJp" jdbcType="NUMERIC" />
    <result column="peij_je" property="peijJe" jdbcType="NUMERIC" />
    <result column="kuc_sx" property="kucSx" jdbcType="NUMERIC" />
    <result column="kuc_xx" property="kucXx" jdbcType="NUMERIC" />
    <result column="kuc_dh" property="kucDh" jdbcType="NUMERIC" />
    <result column="kuc_hw" property="kucHw" jdbcType="VARCHAR" />
    <result column="xiao_sl" property="xiaoSl" jdbcType="NUMERIC" />
    <result column="jinh_sl" property="jinhSl" jdbcType="NUMERIC" />
    <result column="xiaoth_sl" property="xiaothSl" jdbcType="NUMERIC" />
    <result column="jinhth_sl" property="jinhthSl" jdbcType="NUMERIC" />
    <result column="cangk_mc" property="cangkMc" jdbcType="VARCHAR" />
    <result column="canuse_sl" property="canuseSl" jdbcType="NUMERIC" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    reco_no, cangk_dm, danw_dm, peij_no, peij_kc, jiag_jp, peij_je, kuc_sx, kuc_xx, kuc_dh, 
    kuc_hw, xiao_sl, jinh_sl, xiaoth_sl, jinhth_sl
  </sql>
  <select id="selectByPartsNo" resultMap="BaseResultMap" parameterType="java.lang.String">
  	Select reco_no, fl.peij_no, fl.cangk_dm,ck.cangk_mc, peij_kc, jiag_jp, peij_je,
  	       kuc_sx, kuc_xx, kuc_hw,kuc_dh,(peij_kc-isnull(save_sl,0)) as canuse_sl
     FROM kucshp_fl fl 
          inner join sm_cangk ck on fl.cangk_dm = ck.cangk_dm 
          left join (select peij_no,sum(save_sl) as save_sl,cangk_dm 
	                 from (select peij_no ,sum(peij_sl) as save_sl,l.cangk_dm from list_temp_mx l,xiaosh_pz_gz g 
                     where l.list_no = g.xiao_no 
                     group by peij_no,l.cangk_dm 
                     union all
                     select peij_no,sum(peij_sl) as save_sl,cangk_dm 
                     from huanhuo_newmx_gz group by peij_no,cangk_dm) a 
                     group by peij_no,cangk_dm) cu 
          on fl.peij_no =cu.peij_no and fl.cangk_dm =cu.cangk_dm 
     where fl.peij_no =#{partsNo}
  </select>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLuExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from kucshp_fl
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    select 
    <include refid="Base_Column_List" />
    from kucshp_fl
    where reco_no = #{recoNo,jdbcType=NUMERIC}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    delete from kucshp_fl
    where reco_no = #{recoNo,jdbcType=NUMERIC}
  </delete>
  <delete id="deleteByExample" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLuExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    delete from kucshp_fl
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLu" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    insert into kucshp_fl (reco_no, cangk_dm, danw_dm, 
      peij_no, peij_kc, jiag_jp, 
      peij_je, kuc_sx, kuc_xx, 
      kuc_dh, kuc_hw, xiao_sl, 
      jinh_sl, xiaoth_sl, jinhth_sl
      )
    values (#{recoNo,jdbcType=NUMERIC}, #{cangkDm,jdbcType=VARCHAR}, #{danwDm,jdbcType=VARCHAR}, 
      #{peijNo,jdbcType=VARCHAR}, #{peijKc,jdbcType=NUMERIC}, #{jiagJp,jdbcType=NUMERIC}, 
      #{peijJe,jdbcType=NUMERIC}, #{kucSx,jdbcType=NUMERIC}, #{kucXx,jdbcType=NUMERIC}, 
      #{kucDh,jdbcType=NUMERIC}, #{kucHw,jdbcType=VARCHAR}, #{xiaoSl,jdbcType=NUMERIC}, 
      #{jinhSl,jdbcType=NUMERIC}, #{xiaothSl,jdbcType=NUMERIC}, #{jinhthSl,jdbcType=NUMERIC}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLu" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    insert into kucshp_fl
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="recoNo != null" >
        reco_no,
      </if>
      <if test="cangkDm != null" >
        cangk_dm,
      </if>
      <if test="danwDm != null" >
        danw_dm,
      </if>
      <if test="peijNo != null" >
        peij_no,
      </if>
      <if test="peijKc != null" >
        peij_kc,
      </if>
      <if test="jiagJp != null" >
        jiag_jp,
      </if>
      <if test="peijJe != null" >
        peij_je,
      </if>
      <if test="kucSx != null" >
        kuc_sx,
      </if>
      <if test="kucXx != null" >
        kuc_xx,
      </if>
      <if test="kucDh != null" >
        kuc_dh,
      </if>
      <if test="kucHw != null" >
        kuc_hw,
      </if>
      <if test="xiaoSl != null" >
        xiao_sl,
      </if>
      <if test="jinhSl != null" >
        jinh_sl,
      </if>
      <if test="xiaothSl != null" >
        xiaoth_sl,
      </if>
      <if test="jinhthSl != null" >
        jinhth_sl,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="recoNo != null" >
        #{recoNo,jdbcType=NUMERIC},
      </if>
      <if test="cangkDm != null" >
        #{cangkDm,jdbcType=VARCHAR},
      </if>
      <if test="danwDm != null" >
        #{danwDm,jdbcType=VARCHAR},
      </if>
      <if test="peijNo != null" >
        #{peijNo,jdbcType=VARCHAR},
      </if>
      <if test="peijKc != null" >
        #{peijKc,jdbcType=NUMERIC},
      </if>
      <if test="jiagJp != null" >
        #{jiagJp,jdbcType=NUMERIC},
      </if>
      <if test="peijJe != null" >
        #{peijJe,jdbcType=NUMERIC},
      </if>
      <if test="kucSx != null" >
        #{kucSx,jdbcType=NUMERIC},
      </if>
      <if test="kucXx != null" >
        #{kucXx,jdbcType=NUMERIC},
      </if>
      <if test="kucDh != null" >
        #{kucDh,jdbcType=NUMERIC},
      </if>
      <if test="kucHw != null" >
        #{kucHw,jdbcType=VARCHAR},
      </if>
      <if test="xiaoSl != null" >
        #{xiaoSl,jdbcType=NUMERIC},
      </if>
      <if test="jinhSl != null" >
        #{jinhSl,jdbcType=NUMERIC},
      </if>
      <if test="xiaothSl != null" >
        #{xiaothSl,jdbcType=NUMERIC},
      </if>
      <if test="jinhthSl != null" >
        #{jinhthSl,jdbcType=NUMERIC},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLuExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    select count(*) from kucshp_fl
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    update kucshp_fl
    <set >
      <if test="record.recoNo != null" >
        reco_no = #{record.recoNo,jdbcType=NUMERIC},
      </if>
      <if test="record.cangkDm != null" >
        cangk_dm = #{record.cangkDm,jdbcType=VARCHAR},
      </if>
      <if test="record.danwDm != null" >
        danw_dm = #{record.danwDm,jdbcType=VARCHAR},
      </if>
      <if test="record.peijNo != null" >
        peij_no = #{record.peijNo,jdbcType=VARCHAR},
      </if>
      <if test="record.peijKc != null" >
        peij_kc = #{record.peijKc,jdbcType=NUMERIC},
      </if>
      <if test="record.jiagJp != null" >
        jiag_jp = #{record.jiagJp,jdbcType=NUMERIC},
      </if>
      <if test="record.peijJe != null" >
        peij_je = #{record.peijJe,jdbcType=NUMERIC},
      </if>
      <if test="record.kucSx != null" >
        kuc_sx = #{record.kucSx,jdbcType=NUMERIC},
      </if>
      <if test="record.kucXx != null" >
        kuc_xx = #{record.kucXx,jdbcType=NUMERIC},
      </if>
      <if test="record.kucDh != null" >
        kuc_dh = #{record.kucDh,jdbcType=NUMERIC},
      </if>
      <if test="record.kucHw != null" >
        kuc_hw = #{record.kucHw,jdbcType=VARCHAR},
      </if>
      <if test="record.xiaoSl != null" >
        xiao_sl = #{record.xiaoSl,jdbcType=NUMERIC},
      </if>
      <if test="record.jinhSl != null" >
        jinh_sl = #{record.jinhSl,jdbcType=NUMERIC},
      </if>
      <if test="record.xiaothSl != null" >
        xiaoth_sl = #{record.xiaothSl,jdbcType=NUMERIC},
      </if>
      <if test="record.jinhthSl != null" >
        jinhth_sl = #{record.jinhthSl,jdbcType=NUMERIC},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    update kucshp_fl
    set reco_no = #{record.recoNo,jdbcType=NUMERIC},
      cangk_dm = #{record.cangkDm,jdbcType=VARCHAR},
      danw_dm = #{record.danwDm,jdbcType=VARCHAR},
      peij_no = #{record.peijNo,jdbcType=VARCHAR},
      peij_kc = #{record.peijKc,jdbcType=NUMERIC},
      jiag_jp = #{record.jiagJp,jdbcType=NUMERIC},
      peij_je = #{record.peijJe,jdbcType=NUMERIC},
      kuc_sx = #{record.kucSx,jdbcType=NUMERIC},
      kuc_xx = #{record.kucXx,jdbcType=NUMERIC},
      kuc_dh = #{record.kucDh,jdbcType=NUMERIC},
      kuc_hw = #{record.kucHw,jdbcType=VARCHAR},
      xiao_sl = #{record.xiaoSl,jdbcType=NUMERIC},
      jinh_sl = #{record.jinhSl,jdbcType=NUMERIC},
      xiaoth_sl = #{record.xiaothSl,jdbcType=NUMERIC},
      jinhth_sl = #{record.jinhthSl,jdbcType=NUMERIC}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLu" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    update kucshp_fl
    <set >
      <if test="cangkDm != null" >
        cangk_dm = #{cangkDm,jdbcType=VARCHAR},
      </if>
      <if test="danwDm != null" >
        danw_dm = #{danwDm,jdbcType=VARCHAR},
      </if>
      <if test="peijNo != null" >
        peij_no = #{peijNo,jdbcType=VARCHAR},
      </if>
      <if test="peijKc != null" >
        peij_kc = #{peijKc,jdbcType=NUMERIC},
      </if>
      <if test="jiagJp != null" >
        jiag_jp = #{jiagJp,jdbcType=NUMERIC},
      </if>
      <if test="peijJe != null" >
        peij_je = #{peijJe,jdbcType=NUMERIC},
      </if>
      <if test="kucSx != null" >
        kuc_sx = #{kucSx,jdbcType=NUMERIC},
      </if>
      <if test="kucXx != null" >
        kuc_xx = #{kucXx,jdbcType=NUMERIC},
      </if>
      <if test="kucDh != null" >
        kuc_dh = #{kucDh,jdbcType=NUMERIC},
      </if>
      <if test="kucHw != null" >
        kuc_hw = #{kucHw,jdbcType=VARCHAR},
      </if>
      <if test="xiaoSl != null" >
        xiao_sl = #{xiaoSl,jdbcType=NUMERIC},
      </if>
      <if test="jinhSl != null" >
        jinh_sl = #{jinhSl,jdbcType=NUMERIC},
      </if>
      <if test="xiaothSl != null" >
        xiaoth_sl = #{xiaothSl,jdbcType=NUMERIC},
      </if>
      <if test="jinhthSl != null" >
        jinhth_sl = #{jinhthSl,jdbcType=NUMERIC},
      </if>
    </set>
    where reco_no = #{recoNo,jdbcType=NUMERIC}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.xym.bossed.db.mybatis.parts.fenlu.PartsFenLu" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 25 10:12:29 CST 2014.
    -->
    update kucshp_fl
    set cangk_dm = #{cangkDm,jdbcType=VARCHAR},
      danw_dm = #{danwDm,jdbcType=VARCHAR},
      peij_no = #{peijNo,jdbcType=VARCHAR},
      peij_kc = #{peijKc,jdbcType=NUMERIC},
      jiag_jp = #{jiagJp,jdbcType=NUMERIC},
      peij_je = #{peijJe,jdbcType=NUMERIC},
      kuc_sx = #{kucSx,jdbcType=NUMERIC},
      kuc_xx = #{kucXx,jdbcType=NUMERIC},
      kuc_dh = #{kucDh,jdbcType=NUMERIC},
      kuc_hw = #{kucHw,jdbcType=VARCHAR},
      xiao_sl = #{xiaoSl,jdbcType=NUMERIC},
      jinh_sl = #{jinhSl,jdbcType=NUMERIC},
      xiaoth_sl = #{xiaothSl,jdbcType=NUMERIC},
      jinhth_sl = #{jinhthSl,jdbcType=NUMERIC}
    where reco_no = #{recoNo,jdbcType=NUMERIC}
  </update>
</mapper>